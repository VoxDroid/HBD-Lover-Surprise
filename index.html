<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Magical Birthday Surprise</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@400;700&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        * {
            font-family: Poppins, sans-serif;
        }

        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --accent-color: #feca57;
            --text-color: #333;
            --background-color: #f7f1e3;
        }

        .drei {
            position: fixed;
            bottom: 10px;     
            right: 50px;      
            opacity: 0.5;     
            z-index: 1000;
            border: none;     
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Montserrat', sans-serif;
            background-color: var(--background-color);
            overflow-x: hidden;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .magical-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .magical-background::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--secondary-color) 0%, var(--primary-color) 100%);
            animation: rotateBackground 20s linear infinite;
        }

        @keyframes rotateBackground {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .floating-element {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 4rem;
            color: var(--primary-color);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 2rem;
            animation: pulseTitle 2s infinite;
        }

        @keyframes pulseTitle {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .message {
            font-size: 1.5rem;
            max-width: 800px;
            text-align: center;
            color: var(--text-color);
            background-color: rgba(255, 255, 255, 0.8);
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }

        .show-message {
            opacity: 1;
            transform: translateY(0);
        }

        .heart {
            display: inline-block;
            color: var(--primary-color);
            animation: beat 0.8s infinite;
        }

        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .gift-container {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .gift {
            font-size: 5rem;
            cursor: pointer;
            transition: transform 0.3s, filter 0.3s;
            position: relative;
        }

        .gift:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 10px var(--accent-color));
        }

        .gift::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }

        .gift:hover::after {
            opacity: 1;
        }

        .adventure-button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            margin-top: 2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .adventure-button:hover {
            background-color: var(--primary-color);
            transform: scale(1.05);
        }

        .magical-sparkle {
            position: absolute;
            pointer-events: none;
            width: 10px;
            height: 10px;
            background-color: var(--accent-color);
            border-radius: 50%;
            opacity: 0;
        }

        @keyframes sparkle {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        .accessibility-controls {
            position: fixed;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 1;
        }

        .accessibility-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.3s;
        }

        .accessibility-button:hover {
            background-color: var(--secondary-color);
        }

        .high-contrast {
            --primary-color: #000000;
            --secondary-color: #ffffff;
            --accent-color: #ffff00;
            --text-color: #000000;
            --background-color: #ffffff;
        }

        @media (prefers-reduced-motion: reduce) {
            .magical-background::before,
            .floating-element,
            .heart,
            h1,
            .gift:hover,
            .adventure-button:hover {
                animation: none;
                transform: none;
            }
        }
    </style>
</head>
<body>
    <div class="magical-background"></div>
    <div class="floating-elements" aria-hidden="true"></div>
    <div class="container">
        <h1 id="title">Happy Birthday, My Love!</h1>
        <div class="message" id="message">
            My dearest, on this magical day, I want to shower you with all the love and happiness in the world. 
            Your presence in my life is like a beautiful dream come true, and I cherish every moment we share. 
            Your smile brightens my darkest days, your laughter is the sweetest melody, and your love is the greatest gift I could ever receive. 
            May this year bring you endless joy, exciting adventures, and all the success you deserve. 
            I love you more than all the stars in the sky, more than all the grains of sand on every beach, and more than words could ever express. 
            Happy birthday, my angel! <span class="heart">‚ù§Ô∏è</span>
        </div>
        <div class="gift-container">
            <span class="gift" id="gift1" data-tooltip="Memories We've Shared">üéÅ</span>
            <span class="gift" id="gift2" data-tooltip="A Love Letter for You">üéÅ</span>
            <span class="gift" id="gift3" data-tooltip="Our Future Together">üéÅ</span>
        </div>
        <button class="adventure-button" id="adventureButton">Let's play a game!</button>
    </div>
    <div class="accessibility-controls">
        <button class="accessibility-button" id="toggleContrast">Toggle High Contrast</button>
        <button class="accessibility-button" id="toggleMotion">Toggle Reduced Motion</button>
    </div>
    <img class="drei" width="216" height="108">

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const message = document.getElementById('message');
            const gifts = [
                { id: 'gift1', url: 'memory-lane.html' },
                { id: 'gift2', url: 'love-letter.html' },
                { id: 'gift3', url: 'future-plans.html' }
            ];
            const adventureButton = document.getElementById('adventureButton');
            const body = document.body;
            const toggleContrastButton = document.getElementById('toggleContrast');
            const toggleMotionButton = document.getElementById('toggleMotion');

            // Show message with a delay
            setTimeout(() => {
                message.classList.add('show-message');
            }, 1000);

            // Add event listeners to gifts
            gifts.forEach(gift => {
                const element = document.getElementById(gift.id);
                element.addEventListener('click', () => {
                    window.location.href = gift.url;
                });
                element.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        window.location.href = gift.url;
                    }
                });
            });

            // Add event listener to adventure button
            adventureButton.addEventListener('click', () => {
                window.location.href = 'adventure.html';
            });

            // Create floating elements
            const floatingElements = document.querySelector('.floating-elements');
            for (let i = 0; i < 20; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                element.style.width = `${Math.random() * 20 + 10}px`;
                element.style.height = element.style.width;
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                element.style.animationDuration = `${Math.random() * 10 + 5}s`;
                element.style.animationDelay = `${Math.random() * 5}s`;
                floatingElements.appendChild(element);
            }

            // Create magical sparkles on mouse move
            document.addEventListener('mousemove', (e) => {
                createSparkle(e.clientX, e.clientY);
            });

            function createSparkle(x, y) {
                const sparkle = document.createElement('div');
                sparkle.classList.add('magical-sparkle');
                sparkle.style.left = `${x}px`;
                sparkle.style.top = `${y}px`;
                document.body.appendChild(sparkle);

                sparkle.animate([
                    { transform: 'scale(0)', opacity: 1 },
                    { transform: 'scale(1)', opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'cubic-bezier(0.4, 0.0, 0.2, 1)'
                }).onfinish = () => sparkle.remove();
            }

            // Accessibility controls
            toggleContrastButton.addEventListener('click', () => {
                body.classList.toggle('high-contrast');
            });

            toggleMotionButton.addEventListener('click', () => {
                body.classList.toggle('reduce-motion');
            });

            // Keyboard navigation
            const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            const firstFocusableElement = document.querySelector(focusableElements);
            const focusableContent = document.querySelectorAll(focusableElements);
            const lastFocusableElement = focusableContent[focusableContent.length - 1];

            document.addEventListener('keydown', function(e) {
                let isTabPressed = e.key === 'Tab' || e.keyCode === 9;

                if (!isTabPressed) {
                    return;
                }

                if (e.shiftKey) {
                    if (document.activeElement === firstFocusableElement) {
                        lastFocusableElement.focus();
                        e.preventDefault();
                    }
                } else {
                    if (document.activeElement === lastFocusableElement) {
                        firstFocusableElement.focus();
                        e.preventDefault();
                    }
                }
            });
        });
    </script>
</body>
</html>